1. 워크북을 만들기 위한 입력되는 사진유형은 2가지가 있어.
 1-1) 한자 → 병음 → 의미 → 예문 (세로 테이블)
 1-2) 본문(중국어+병음) + 어휘 + 본문해석

2. 1-1), 1-2) 유형여부는 JPG 파일을 확인해서 자동으로 구분해주면 좋겠어.
1-1) 유형인 경우는 아래 가이드를 따라죠.
 . Column과 Table 형태는 그대로 유지해주면 되.
 . 한글은 font 는 맑은 고딕으로 해주고, Size는 11pt로 유지해죠.
 . 한자 Column(한자, 예문)의 경우, font 는 Microsoft YaHei으로 해주고, 16pt 로 해주고, #EAEAEA 색으로 프린트 했을 때 사용자가 따라쓸수 있도록 만들어죠.
 . Table의 Width를 조정해서 한자 Column(한자, 예문)의 경우, 반드시 한줄이 되게해주고, 병음과 의미는 Column width가 줄어들어서 2줄이되어도 상관없어.

1-2) 유형인 경우는 아래 가이드를 따라죠.
 . A, B, C 형태로 본문과 본문해석이 서로 연결되어 있어.
 . 본문해석을 먼저 출력해주고, 바로 아래에 매칭되는 본문을 적어죠.
 . 본문해석은 font 는 맑은 고딕으로 해주고, Size는 11pt로 유지해죠.
 . 본문은 Microsoft YaHei으로 해주고, 16pt 로 해주고, #EAEAEA 색으로 프린트 했을 때 사용자가 따라쓸수 있도록 만들어죠.

---
[2026-02-17 구현 완료 사항]

3. 성능 개선: AI 추출 속도 최적화
 . 유형 감지 + 내용 추출을 1회 API 호출로 통합 (기존 2회 → 1회)
 . 여러 이미지 업로드 시 asyncio.gather로 병렬 처리
 . 이미지 2장 기준 약 4배 속도 향상

4. UX 개선: 두 유형 동시 추출 시 다운로드 후 돌아가기
 . 두 유형(1-1, 1-2)이 동시에 추출된 경우, 한쪽 다운로드 후 "추출 결과로 돌아가기" 버튼으로 다른 유형도 다운로드 가능
 . 기존에는 다운로드 후 돌아가면 추출 데이터가 사라지는 문제 해결

5. 추출 정확도 개선: 병음 없는 테이블 형식 지원
 . 교재에 병음이 명시되지 않은 표 형식(전치사표 등)도 정확히 추출
 . AI가 한자의 병음을 자동 생성
 . chinese 필드에 한국어가 들어가지 않도록 프롬프트 강화
 . 한 행에 의미가 2개 이상이고 각각 다른 예문이 있으면 별도 entry로 분리
